<section class="signup d-flex align-items-center justify-content-center vh-100 w-100">
  <div class="container boxShadow">
    <div class="row signin-content align-items-center">

      <!-- Sign In Form -->
      <div class="signin-form col-12 col-md-6 mb-5 mb-md-0">
        <h2 class="form-title fs-2 text-center">Sign In</h2>
        <form class="login-form mt-4" [formGroup]="loginForm" (ngSubmit)="loginSubmit(loginForm)">

          <!-- Username -->
          <div class="form-group d-flex align-items-center mb-4">
            <label for="username"><i class="fa-solid fa-user"></i></label>
            <input type="text" id="username" placeholder="Username" formControlName="username" />
          </div>
          @if (loginForm.get('username')?.errors && loginForm.get('username')?.touched) {
            <div class="alert alert-danger">
              <p *ngIf="loginForm.get('username')?.errors?.['required']">Username is required</p>
            </div>
          }

          <!-- Password -->
          <div class="form-group d-flex align-items-center mb-4">
            <label for="password"><i class="fa-solid fa-lock"></i></label>
            <input type="password" id="password" placeholder="Password" formControlName="password" />
          </div>
          @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched) {
            <div class="alert alert-danger">
              <p *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</p>
            </div>
          }

          <!-- API Error -->
          <!-- @if(apiErr){
            <p class="alert alert-danger">{{ apiErr }}</p>
          } -->

          <!-- Submit Button -->
          <div class="d-flex justify-content-center align-items-center flex-column">
            <button class="btn btn-danger" [disabled]="loginForm.invalid">
              @if (isLoading) {
                <i class="fa fa-spinner fa-spin"></i>
              } @else {
                <span>Sign In</span>
              }
            </button>
            <p class="mt-3">Don't have an account? <a href="/signup" class="text-info">Register</a></p>
          </div>

        </form>
      </div>

      <!-- Image Column -->
      <div class="signin-image col-12 col-md-6 d-flex justify-content-center">
        <figure>
          <img src="assets/images/signin-image.jpg" alt="sign in image" class="img-fluid" />
        </figure>
      </div>

    </div>
  </div>
</section>
